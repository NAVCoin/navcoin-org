---
layout: уведомления
title: 'NPIP004: Вознаграждение за статический блок'
author: Craig MacGregor
date: '2018-08-18T12:13:05+12:00'
feature_image: /images/uploads/npip004.png
notice_categories:
  - NPIP
---
После того, как пару месяцев назад был осуществлен софтфорк для фиксации синхронизации часов в сети, теперь NavCoin совместим с протоколом Proof of Stake v2, опубликованным Blackcoin.
<!--подробнее-->

https://blackcoin.org/blackcoin-pos-protocol-v2-whitepaper.pdf

Следующий логический шаг - совместимость с PoS v3 (3-тья версия). Спецификацию можно прочитать здесь:

https://bravenewcoin.com/assets/Whitepapers/Blackcoin-POS-3.pdf

Если коротко, то PoS v3 включает в себя возможность холодного стекинга и фиксированное вознаграждение за блок.

Мы уже презентовали холодный стекинг в NPIP002, и он получил единогласную поддержку сообщества. Он планируется развертываться сразу после того, как вступит в силу механизм требований Фонда Сообщества и как только NavCoin будет на полпути к совместимости с PoS v3.

Это подводит нас ко второй части спецификации PoS v3 - фиксированному вознаграждению за блок.

Почему мы хотели сделать фиксированное вознаграждение за блок вместо вознаграждения на основе процентов? Несмотря на то, что получение вознаграждений за стекинг хорошо для вашего баланса NAV, однако основная цель стекинга - вознаграждение за проверку и защиту сети. При текущем вознаграждении на основе процентов, монеты могут находиться в автономном режиме в течение неопределенного периода времени, не защищая сеть, а затем появляясь в сети, чтобы получить свое вознаграждение, даже если они проделали совсем небольшую работу по обеспечению безопасности сети, за исключением нескольких блоков.

Монеты, которые находятся в сети, используют свой вес для проверки блоков, отчеканенных другими стекерами, и они играют важную роль в защите сети, даже если они не единственные, кто чеканит текущий блок. Именно они защищают сеть от 51%-ных атак, и поэтому для безопасности сети важно иметь, как можно больший вес монет в сети.

Для ознакомления с полным обоснованием, пожалуйста, обратитесь к NPIP004 здесь: https://github.com/NAVCoin/npips/blob/npip-0004/npip-0004.mediawiki

Помните, что на данном этапе это черновик, и он открыт для обсуждения. В конечном счете, никто не может изменить механизм консенсуса без поддержки со стороны сети, поэтому лучший выбор будет делаться сообществом и сетью. Далее, я хочу высказать несколько дополнительных соображений, и хотел бы получить на них отзывы.

### Обзор

NPIP004 предлагает установить статическое вознаграждение за блок в 2 NAV за блок.

В год добывается примерно 1 051 200 (2 \ * 60 \ * 24 * 365) блоков, что означает, что в качестве вознаграждений proof of stake в год будет генерироваться 2 102 400 NAV.

В настоящее время в обращении находится примерно 63 млн. NAV, поэтому уровень инфляции за счет вознаграждения за стекинг остановится на уровне 3,3% в год. Другая вещь, которую следует учитывать при статическом вознаграждении, заключается в том, что со времененм в процентном отношении оно будет экспоненциально уменьшаться.

Например, если в обращении находится 100 млн. NAV, то инфляция, генерируемая вознаграждением за стекинг, будет такой же (по сумме NAV) и будет равна 2,1% от общего предложения вместо 3,3%.

### Дефляционное предложение

Существуют некоторые споры касаемо того, является ли экспоненциальное дефляционное предложение хорошей или плохой вещью. Что касается экономики спроса-предложения, то она оказалась огромным благом для Биткойна, значение которого экспоненциально увеличивается по мере того, как каждое вознаграждение за майнинг уменьшается вдвое. Контраргумент заключается в том, что это плохо для распределения, так как в этом случае больше вознаграждаются ранние пользователей, а не новых участники экосистемы.

Лично я за дефляционную модель. Я думаю, что разница в вознаграждениях за майнинг сейчас и пока у нас не будет 100 миллионов в обращении (через 10 с лишним лет), ничтожна по сравнению с принятием, когда мы говорим о вещах, которые влияют на экономику спроса-предложения. За 10 лет она будет уменьшаться на 1/3 часть, а не каждые 4 года, как в случае с биткойном.

### Неравенство

Также проходило обсуждение относительно того, как бы это сподвигло к дальнейшему разделению между стекерами с большим и меньшим количеством NAV. Следует помнить, что, хотя вознаграждение является фиксированным, количество блоков, которое вы добываете, все равно пропорционально зависит от вашего веса в сети. Это означает, что стекеры все еще увеличивают богатство в процентах относительно друг друга. Давайте запустим несколько сценариев.

Простое уравнение:

`Всего вознаграждений / Вес сети * Баланс`

Предположим, что 20 миллионов NAV находятся в процессе стекинга (как на данный момент). Так будут выглядеть вознаграждения за стекинг для некоторых разных балансов в течение 1-го года.

`2 102 400 / 20 000 000 * Баланс`

| Баланс        | После 1 года     | Процент, % |
| ------------- | ---------------- | ---------- |
| 1 000 000 NAV	| 1 105 120.00 NAV | 10.512%    |
| 100 000 NAV   | 110 512.00 NAV   | 10.512%    |
| 10 000 NAV    | 11 051.20 NAV    | 10.512%    |
| 1 000 NAV     | 110.512 NAV      | 10.512%    |

Как вы можете заметить, единственная вещь, которая происходит - это смещение запятой назад. Однако в процентах все получают пропорционально тому, какой у них вклад.

Это слегка упрощенный, но достаточно точный пример. Независимо от того, сколько у вас есть NAV - 10% или 0,001% от общего веса стекинга, вы будете чеканить блоки пропорционально вашему весу, поэтому баланс каждого пользователя увеличивается с одинаковой процентной ставкой.

Единственное, что может усложнить дело - это усугубляемый интерес. Несколько человек были обеспокоены тем, что, поскольку некоторые лица с большим балансом за стекинг получают вознаграждения чаще, они будут эффективно убегать от более мелких игроков, которые никогда не получат возможность осуществить стекинг.

Я написал небольшую компьютерную программу для имитации вознаграждения за стекинг в течение 1-го года с учетом веса сети и дополнительных 2 NAV, добавляемых каждый раз, когда кто-то находит блок. Предположение, которое я сделал, является наихудшим вариантом сценария. Например, все монеты, находящиеся в стекинге, никогда не расходуются, а возвращаются обратно к весу стекинга.

Вы можете посмотреть программу здесь: https://github.com/craigmacgregor/static-reward-modeller/blob/master/model.js

Проще говоря, она рассчитывает, когда вы должны получить вознаграждение, исходя из вашего веса по сравнению с остальной частью сети, где сеть начинается с 20 мил. NAV и получает 2 NAV, добавляемых каждые 30 секунд. Исход таков:

| Стекер   | Стартовый баланс | Баланс в конце | Прибыль в процентнах |
| -------- | ---------------- | -------------- | -------------------- |
| баланс 1 | 1 000 000        | 1 105 120      | 10.51%               |
| баланс 2 | 100 000          | 110 512        | 10.51%               |
| баланс 3 | 10 000           | 11 052         | 10.52%               |
| баланс 4 | 1 000            | 1 106          | 10.6%                |
| вес      | 20 000 000       | 22 102 400     | 10.51%               |
| предлож. | 63 000 000       | 65 102 400     | 3.33%                |

Как вы можете видеть, более мелкие стекеры все еще получают свои награды, хотя баланс более крупных игроков увеличивается на 2 NAV каждые 20 блоков. Я даже смоделировал это для тех, у кого в наличии есть 100 NAV - и они получат 112 NAV через 1 год (увеличение на 12%). Так что получается эта модель отдает предпочтение более мелким стекерам, что на самом деле стало неожиданным результатом.

Единственное, что не учитывается - это решение орфанов. Я не могу смоделировать орфаны с помощью простой программы javascript. Я исследую этот момент при запуске NPIP в тестовой сети, чтобы убедиться, что в реальном мире проблем нет. Однако, я предполагаю, что будут лишь незначительные последствия.

Почему прибыль составляет более 10%?

Вы должны это помнить, так как общая сгенерированная сумма является фиксированной, но делится пропорционально. При весе сети в 20 млн., годовое вознаграждение за монету составит 10,5%, но если бы в процессе стекинга находилось 40 млн. монет, то ежегодное вознаграждение за монету составляло бы 5,25%. Чем больше людей запускают стекинг монет онлайн, тем меньше вознаграждение. В настоящее время, в стекинге находятся только около 25% NAV онлайн, но как правило, в стекинге мы видим около 40% NAV онлайн, что означает, что годовой доход составляет около 8,4% за монету. Если бы для размещения стекинга использовались 100% монет, годовой % вознаграждения за монету составил бы 3,33%.

### Как это отличается от других монет?

| Монета | Вознаграждение |
| ----   | ------         |
| PIVX   | 5-10%          |
| ARK    | 10-12%         |
| LSK    | 10%            |
| NEBL   | 10%            |
| NAV    | 5-10%          |

Источник: https://www.investinblockchain.com/best-proof-of-stake-coins

Таким образом, это действие поставило бы нас в один ряд с другими монетами PoS и при этом мы по-прежнему оставались бы в нижней части шкалы вознаграждений, особенно если больше людей запустят стекинг.

Я нашел данную таблицу, в которой можно найти довольно подробную информацию о большом количестве монет и их уровне инфляции:

https://docs.google.com/spreadsheets/d/1-weHt0PiIZWyXs1Uzp7QIUKk9TX7aa15RtFc8JJpn7g/edit#gid=237137882

Как вы можете увидеть, NavCoin по-прежнему будет иметь один из самых низких уровней инфляции на всем крипторынке даже добавив монеты PoW. Например, у биткойна, в настоящее время, уровень инфляции равен 3,68%.

### Разве такая низкая инфляция, как у нас, не лучший вариант?

При 4% в год и при 25% монет, находящихся в стекинге, инфляция NavCoin составляет только около 1,4% в год (включая фонд сообщества). Мы наблюдали, что вес сети стекинга за последние 6 месяцев сократился примерно вдвое, что можно объяснить сокращением вознаграждений, когда был создан фонд сообщества. Возможно, люди переходят на другие, более выгодные монеты PoS, потому что годовое вознаграждение в виде 4% слишком низкое. При таком весе сети и рыночном курсе, для выполнения 51%-ой атаки потребуется всего около 2 миллионов долларов США. В действительности, покупка монет, достаточной для 51%-ой атаки на сеть может привести к повышению цены на монету NAV и, следовательно, значительно удорожит атаку сети. Но все же стоит отметить важность обеспечения безопасности сети для привлечения большего количества людей осуществлять стекинг монет.

### Резюме

Изменение статического вознаграждения за блок в 2 NAV повышает безопасность сети несколькими способами. Во-первых, это заставляет людей постоянно находиться в сети для обеспечения постоянной защиты своего веса. Во-вторых, это увеличивает потенциальные доходы для стекеров, что привлечет больше людей запускать стекинг NavCoin и увеличит вес сети. Оба этих фактора усложняют 51%-ую атаку сети и повышают ее безопасность.

### Дополнительные предлагаемые изменения

Когда мы первоначально предложили 0,25 NAV за блок для Фонда Сообщества, мы рассчитали эту цифру, как 20% от текущего уровня инфляции. Таким образом, снижение с 5% до 4% и добавление 0,25 NAV было приблизительно одинакого. Однако этот расчет основывался на стекинге 40% монет с 5%-ым вознаграждением. Я же хотел бы предложить такой вариант, где мы переходим к статическому вознаграждению за блок и увеличиваем вознаграждение для фонда сообщества до 0,5 NAV за блок. При таком варианте будет сохранено 20%-ое соотношение к вознаграждениям за стекинг, как изначально было запланировано.

Это будет означать, что при стекинге будет создано 2 102 400 NAV в год и 525 600 NAV в год для фонда сообщества, что в сумме составляет 2 628 000 новых NAV в год. Эта цифра соответствует начальному уровню инфляции в 4,17%, которая уменьшается в геометрической прогрессии (в процентах), как и было ранее объяснено.

### Альтернативные подходы

##### Максимальный возраст монет

Мы могли бы ввести максимальный возраст монет, который бы равнялся 1-му месяцу. Если они выйдут онлайн через 6 месяцев с целью получения вознаграждения, они получат вознаграждение только за 1 месяц. Это будет стимулировать людей оставаться в сети, потому что в противном случае они упустят свое вознаграждение. Тем не менее, крупный стекер может довольно быстро наверстать упущенное, однако маленький стекер потенциально может упустить вознаграждение, даже если он все время остается в сети. Я бы сказал, что для небольших стекеров это решение хуже, чем статическое вознаграждение. При этом решении также не учитывается тот факт, что другие монеты имеют более высокие вознаграждения и не привлекают новых пользователей.

##### Вознаграждение валидатора блоков

Мы могли бы оставить вознаграждение за стекинг на основе возраста монет для минтера блока и создать дополнительное статическое вознаграждение, при котором минтер вознаграждает тех людей, которые находятся в сети и защищают сеть своим весом, даже если они не являются минтерами блока. Однако, даже в этом случае это была бы лотерея, основанная на весе сети, но в этом случае у нас есть гибридная система, в которой каждый получает свой процент, а люди, у которых постоянно запущен стекинг онлайн, получают дополнительную прибыль. Эта альтернатива потребует разумного количества исследований и испытаний, и она, если я не ошибаюсь, еще не была опробована. Проще говоря, я бы поспорил, что использование статического вознаграждения является лучшим вариантом.

##### Другие подходы

О других способах решения этой проблемы я еще не думал. Если у вас есть какие-либо идеи, не бойтесь публиковать их в этой ветке.

### Заключение

Лично я - за изменение награды за блок до 2 NAV и за увеличение фонда сообщества до 0.5 NAV за блок.

Я бы хотел предложить объединить эти изменения вместе с NPIP002 и NPIP003 в NavCoin Core v4.5.0 (4.3.0 - это Open Alias, 4.4.0 - это утверждение фонда сообщества), чтобы мы могли сократить количество выпущенных версий. Каждое отдельное изменение протокола будет иметь свой собственный бит версии, поэтому люди, заинтересованные только в некоторых обновлениях, смогут голосовать за каждое изменение по отдельности.

Если у вас есть какие-либо комментарии или предложения, пожалуйста, опубликуйте их в ветке reddit или непосредственно на GitHub (NPIP).

https://www.reddit.com/r/NavCoin/comments/980eql/npip004_static_block_reward
